registry  | {"level":"info","params":{"distSpecVersion":"1.1.1","GoVersion":"go1.24.4","Commit":"v2.1.5-100dfec1424c9aa2b38d26b1c90091bbc6fe5a24","ReleaseTag":"v2.1.5","BinaryType":"-events-imagetrust-lint-metrics-mgmt-profile-scrub-search-sync-ui-userprefs","Storage":{"RootDirectory":"/var/lib/zot","Dedupe":true,"RemoteCache":false,"GC":true,"Commit":false,"GCDelay":3600000000000,"GCInterval":3600000000000,"Retention":{"DryRun":false,"Delay":0,"Policies":null},"StorageDriver":null,"CacheDriver":null,"SubPaths":null},"HTTP":{"Address":"0.0.0.0","ExternalURL":"https://registry.smigula.io","Port":"5000","AllowOrigin":"","TLS":null,"Auth":{"FailDelay":5,"HTPasswd":{"Path":"/etc/zot/htpasswd"},"LDAP":null,"Bearer":null,"OpenID":{"Providers":{"oidc":{"Name":"","ClientID":"CCQHiOCoO3922YxXn4zCKADuJPYafy5u8EAw34gg","ClientSecret":"******","KeyPath":"","Issuer":"https://auth.smigula.io","Scopes":["openid","profile","email","groups"]}}},"APIKey":true,"SessionKeysFile":""},"AccessControl":null,"Realm":"","Ratelimit":null,"Compat":null},"Log":{"Level":"info","Output":"","Audit":""},"Extensions":{"Search":{"Enable":true,"CVE":null},"Sync":{"Enable":true,"CredentialsFile":"/etc/zot/credentials.yaml","DownloadDir":"","Registries":[{"URLs":["https://registry-1.docker.io"],"PollInterval":0,"Content":[{"Prefix":"**","Tags":null,"Destination":"/docker","StripPrefix":false}],"TLSVerify":true,"OnDemand":true,"CertDir":"","MaxRetries":3,"RetryDelay":300000000000,"OnlySigned":null,"CredentialHelper":"","PreserveDigest":false},{"URLs":["https://ghcr.io"],"PollInterval":0,"Content":[{"Prefix":"**","Tags":null,"Destination":"/ghcr","StripPrefix":false}],"TLSVerify":true,"OnDemand":true,"CertDir":"","MaxRetries":3,"RetryDelay":300000000000,"OnlySigned":null,"CredentialHelper":"","PreserveDigest":false},{"URLs":["https://quay.io"],"PollInterval":0,"Content":[{"Prefix":"**","Tags":null,"Destination":"/quay","StripPrefix":false}],"TLSVerify":true,"OnDemand":true,"CertDir":"","MaxRetries":null,"RetryDelay":null,"OnlySigned":null,"CredentialHelper":"","PreserveDigest":false},{"URLs":["https://registry.k8s.io"],"PollInterval":0,"Content":[{"Prefix":"**","Tags":null,"Destination":"/k8s","StripPrefix":false}],"TLSVerify":true,"OnDemand":true,"CertDir":"","MaxRetries":null,"RetryDelay":null,"OnlySigned":null,"CredentialHelper":"","PreserveDigest":false},{"URLs":["https://gcr.io"],"PollInterval":0,"Content":[{"Prefix":"**","Tags":null,"Destination":"/gcr","StripPrefix":false}],"TLSVerify":true,"OnDemand":true,"CertDir":"","MaxRetries":null,"RetryDelay":null,"OnlySigned":null,"CredentialHelper":"","PreserveDigest":false}]},"Metrics":{"Enable":true,"Prometheus":{"Path":"/metrics"}},"Scrub":{"Enable":true,"Interval":86400000000000},"Lint":null,"UI":{"Enable":true},"Mgmt":null,"APIKey":null,"Trust":null,"Events":null},"scheduler":null,"cluster":null},"goroutine":1,"caller":"zotregistry.dev/zot/pkg/api/controller.go:252","time":"2025-07-25T01:52:14.618178105Z","message":"configuration settings"}
registry  | {"level":"info","cpus":4,"max. open files":1048576,"listen backlog":"4096","max. inotify watches":"2147483647","goroutine":1,"caller":"zotregistry.dev/zot/pkg/api/runtime.go:34","time":"2025-07-25T01:52:14.618289459Z","message":"runtime params"}
registry  | {"level":"info","goroutine":1,"caller":"zotregistry.dev/zot/pkg/extensions/extension_events.go:16","time":"2025-07-25T01:52:14.618332194Z","message":"events disabled in configuration"}
registry  | {"level":"info","component":"metadb","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:29","time":"2025-07-25T01:52:14.694513589Z","message":"parsing storage and initializing"}
registry  | {"level":"info","total":20,"progress":0,"current-repo":"docker/alpine","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697035802Z","message":"parsing next repo 'docker/alpine'"}
registry  | {"level":"info","total":20,"progress":1,"current-repo":"docker/amir20/dozzle","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697100346Z","message":"parsing next repo 'docker/amir20/dozzle'"}
registry  | {"level":"info","total":20,"progress":2,"current-repo":"docker/caddy","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697116986Z","message":"parsing next repo 'docker/caddy'"}
registry  | {"level":"info","total":20,"progress":3,"current-repo":"docker/grafana/alloy","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697132666Z","message":"parsing next repo 'docker/grafana/alloy'"}
registry  | {"level":"info","total":20,"progress":4,"current-repo":"docker/grafana/grafana","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697146384Z","message":"parsing next repo 'docker/grafana/grafana'"}
registry  | {"level":"info","total":20,"progress":5,"current-repo":"docker/grafana/loki","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697160459Z","message":"parsing next repo 'docker/grafana/loki'"}
registry  | {"level":"info","total":20,"progress":6,"current-repo":"docker/grafana/tempo","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697180558Z","message":"parsing next repo 'docker/grafana/tempo'"}
registry  | {"level":"info","total":20,"progress":7,"current-repo":"docker/jaegertracing/all-in-one","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697195995Z","message":"parsing next repo 'docker/jaegertracing/all-in-one'"}
registry  | {"level":"info","total":20,"progress":8,"current-repo":"docker/library/postgres","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697212481Z","message":"parsing next repo 'docker/library/postgres'"}
registry  | {"level":"info","total":20,"progress":9,"current-repo":"docker/library/redis","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697225955Z","message":"parsing next repo 'docker/library/redis'"}
registry  | {"level":"info","total":20,"progress":10,"current-repo":"docker/minio/mc","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697240503Z","message":"parsing next repo 'docker/minio/mc'"}
registry  | {"level":"info","total":20,"progress":11,"current-repo":"docker/minio/minio","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697253765Z","message":"parsing next repo 'docker/minio/minio'"}
registry  | {"level":"info","total":20,"progress":12,"current-repo":"docker/nginx","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697267026Z","message":"parsing next repo 'docker/nginx'"}
registry  | {"level":"info","total":20,"progress":13,"current-repo":"docker/postgres","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697279933Z","message":"parsing next repo 'docker/postgres'"}
registry  | {"level":"info","total":20,"progress":14,"current-repo":"docker/prom/prometheus","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697299372Z","message":"parsing next repo 'docker/prom/prometheus'"}
registry  | {"level":"info","total":20,"progress":15,"current-repo":"docker/redis","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697312786Z","message":"parsing next repo 'docker/redis'"}
registry  | {"level":"info","total":20,"progress":16,"current-repo":"docker/smigula/nginx","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697325272Z","message":"parsing next repo 'docker/smigula/nginx'"}
registry  | {"level":"info","total":20,"progress":17,"current-repo":"gcr/cadvisor/cadvisor","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697337825Z","message":"parsing next repo 'gcr/cadvisor/cadvisor'"}
registry  | {"level":"info","total":20,"progress":18,"current-repo":"ghcr/ghcr.io/project-zot/zot-linux-amd64","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697352658Z","message":"parsing next repo 'ghcr/ghcr.io/project-zot/zot-linux-amd64'"}
registry  | {"level":"info","total":20,"progress":19,"current-repo":"ghcr/goauthentik/server","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:57","time":"2025-07-25T01:52:14.697367088Z","message":"parsing next repo 'ghcr/goauthentik/server'"}
registry  | {"level":"info","component":"metadb","goroutine":1,"caller":"zotregistry.dev/zot/pkg/meta/parse.go:83","time":"2025-07-25T01:52:14.697380874Z","message":"successfully initialized"}
registry  | {"level":"info","htpasswd-file":"/etc/zot/htpasswd","users":2,"goroutine":1,"caller":"zotregistry.dev/zot/pkg/api/htpasswd.go:58","time":"2025-07-25T01:52:14.698239604Z","message":"loaded htpasswd file"}
registry  | {"level":"warn","goroutine":1,"caller":"zotregistry.dev/zot/pkg/api/controller.go:315","time":"2025-07-25T01:52:14.698363316Z","message":"hashKey is not set in config, generating a random one"}
registry  | {"level":"info","goroutine":1,"caller":"zotregistry.dev/zot/pkg/extensions/extension_search.go:55","time":"2025-07-25T01:52:14.698441427Z","message":"cve config not provided, skipping cve-db update"}
registry  | {"level":"info","goroutine":1,"caller":"zotregistry.dev/zot/pkg/extensions/sync/service.go:79","time":"2025-07-25T01:52:14.698465739Z","message":"using file-based credentials because CredentialHelper is not set"}
registry  | {"level":"error","errortype":"*json.SyntaxError","path":"/etc/zot/credentials.yaml","error":"invalid character 'r' looking for beginning of value","goroutine":1,"caller":"zotregistry.dev/zot/pkg/extensions/sync/service.go:87","time":"2025-07-25T01:52:14.698499086Z","message":"couldn't get registry credentials from configured path"}
registry  | {"level":"info","goroutine":1,"caller":"zotregistry.dev/zot/pkg/extensions/sync/service.go:79","time":"2025-07-25T01:52:14.698624625Z","message":"using file-based credentials because CredentialHelper is not set"}
registry  | {"level":"error","errortype":"*json.SyntaxError","path":"/etc/zot/credentials.yaml","error":"invalid character 'r' looking for beginning of value","goroutine":1,"caller":"zotregistry.dev/zot/pkg/extensions/sync/service.go:87","time":"2025-07-25T01:52:14.698645517Z","message":"couldn't get registry credentials from configured path"}
registry  | {"level":"info","goroutine":1,"caller":"zotregistry.dev/zot/pkg/extensions/sync/service.go:79","time":"2025-07-25T01:52:14.698717159Z","message":"using file-based credentials because CredentialHelper is not set"}
registry  | {"level":"error","errortype":"*json.SyntaxError","path":"/etc/zot/credentials.yaml","error":"invalid character 'r' looking for beginning of value","goroutine":1,"caller":"zotregistry.dev/zot/pkg/extensions/sync/service.go:87","time":"2025-07-25T01:52:14.698735726Z","message":"couldn't get registry credentials from configured path"}
registry  | {"level":"info","goroutine":1,"caller":"zotregistry.dev/zot/pkg/extensions/sync/service.go:79","time":"2025-07-25T01:52:14.698810421Z","message":"using file-based credentials because CredentialHelper is not set"}
registry  | {"level":"error","errortype":"*json.SyntaxError","path":"/etc/zot/credentials.yaml","error":"invalid character 'r' looking for beginning of value","goroutine":1,"caller":"zotregistry.dev/zot/pkg/extensions/sync/service.go:87","time":"2025-07-25T01:52:14.698828473Z","message":"couldn't get registry credentials from configured path"}
registry  | {"level":"info","goroutine":1,"caller":"zotregistry.dev/zot/pkg/extensions/sync/service.go:79","time":"2025-07-25T01:52:14.700319886Z","message":"using file-based credentials because CredentialHelper is not set"}
registry  | {"level":"error","errortype":"*json.SyntaxError","path":"/etc/zot/credentials.yaml","error":"invalid character 'r' looking for beginning of value","goroutine":1,"caller":"zotregistry.dev/zot/pkg/extensions/sync/service.go:87","time":"2025-07-25T01:52:14.700363277Z","message":"couldn't get registry credentials from configured path"}
registry  | {"level":"info","htpasswd-file":"/etc/zot/htpasswd","users":2,"goroutine":1,"caller":"zotregistry.dev/zot/pkg/api/htpasswd.go:58","time":"2025-07-25T01:52:14.700557014Z","message":"loaded htpasswd file"}
registry  | {"level":"panic","error":"OpenID Provider Configuration Discovery has failed\nhttp status not ok: 404 Not Found \n\n\n\n<!DOCTYPE html>\n\n<html>\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\">\n        <title>\nauthentik\n</title>\n        <link rel=\"icon\" href=\"/static/dist/assets/icons/icon.png\">\n        <link rel=\"shortcut icon\" href=\"/static/dist/assets/icons/icon.png\">\n        \n<link rel=\"prefetch\" href=\"/static/dist/assets/images/flow_background.jpg\" />\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/static/dist/patternfly.min.css\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/static/dist/theme-dark.css\" media=\"(prefers-color-scheme: dark)\">\n\n\n\n<script>\n    window.authentik = {\n        locale: \"en-us\",\n        config: JSON.parse(''),\n        brand: JSON.parse(''),\n        versionFamily: \"\",\n        versionSubdomain: \"\",\n        build: \"\",\n        api: {\n            base: \"\",\n        },\n    };\n    window.addEventListener(\"DOMContentLoaded\", function () {\n        \n    });\n</script>\n\n\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/static/dist/authentik.css\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/static/dist/custom.css\" data-inject>\n        <script src=\"/static/dist/poly-2024.12.2.js\" type=\"module\"></script>\n        <script src=\"/static/dist/standalone/loading/index-2024.12.2.js\" type=\"module\"></script>\n        \n<style>\n:root {\n    --ak-flow-background: url(\"/static/dist/assets/images/flow_background.jpg\");\n    --pf-c-background-image--BackgroundImage: var(--ak-flow-background);\n    --pf-c-background-image--BackgroundImage-2x: var(--ak-flow-background);\n    --pf-c-background-image--BackgroundImage--sm: var(--ak-flow-background);\n    --pf-c-background-image--BackgroundImage--sm-2x: var(--ak-flow-background);\n    --pf-c-background-image--BackgroundImage--lg: var(--ak-flow-background);\n}\n/* Form with user */\n.form-control-static {\n    margin-top: var(--pf-global--spacer--sm);\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n.form-control-static .avatar {\n    display: flex;\n    align-items: center;\n}\n.form-control-static img {\n    margin-right: var(--pf-global--spacer--xs);\n}\n.form-control-static a {\n    padding-top: var(--pf-global--spacer--xs);\n    padding-bottom: var(--pf-global--spacer--xs);\n    line-height: var(--pf-global--spacer--xl);\n}\n</style>\n\n        <meta name=\"sentry-trace\" content=\"67462897c7f247f98c1698cfb8cadb21-8e15de6025a2af85-0\" />\n    </head>\n    <body>\n        \n<div class=\"pf-c-background-image\">\n</div>\n<ak-message-container></ak-message-container>\n<div class=\"pf-c-login stacked\">\n    <div class=\"ak-login-container\">\n        <main class=\"pf-c-login__main\">\n            <div class=\"pf-c-login__main-header pf-c-brand ak-brand\">\n                <img src=\"/static/dist/assets/icons/icon_left_brand.svg\" alt=\"authentik Logo\" />\n            </div>\n            <header class=\"pf-c-login__main-header\">\n                <h1 class=\"pf-c-title pf-m-3xl\">\n                    \nNot Found\n\n                </h1>\n            </header>\n            <div class=\"pf-c-login__main-body\">\n                \n<form method=\"POST\" class=\"pf-c-form\">\n    <p></p>\n    <a id=\"ak-back-home\" href=\"/\" class=\"pf-c-button pf-m-primary\">\n        Go home\n    </a>\n</form>\n\n            </div>\n        </main>\n        <footer class=\"pf-c-login__footer\">\n            <ul class=\"pf-c-list pf-m-inline\">\n                \n                <li>\n                    <span>\n                        Powered by authentik\n                    </span>\n                </li>\n            </ul>\n        </footer>\n    </div>\n</div>\n\n        \n        \n    </body>\n</html>\n","issuer":"https://auth.smigula.io","redirectURI":"https://registry.smigula.io/zot/auth/callback/oidc","scopes":["openid","profile","email","groups"],"goroutine":1,"caller":"zotregistry.dev/zot/pkg/api/authn.go:582","time":"2025-07-25T01:52:14.735123633Z","message":"failed to initialize new relying party oidc"}
registry  | panic: failed to initialize new relying party oidc
registry  |
registry  | goroutine 1 [running]:
registry  | zotregistry.dev/zot/pkg/api.NewRelyingPartyOIDC.(*Logger).Panic.func1({0x5725508aecb0?, 0x0?})
registry  |     github.com/rs/zerolog@v1.34.0/log.go:405 +0x27
registry  | github.com/rs/zerolog.(*Event).msg(0xc000b20000, {0x5725508aecb0, 0x2b})
registry  |     github.com/rs/zerolog@v1.34.0/event.go:158 +0x2aa
registry  | github.com/rs/zerolog.(*Event).Msg(...)
registry  |     github.com/rs/zerolog@v1.34.0/event.go:110
registry  | zotregistry.dev/zot/pkg/api.NewRelyingPartyOIDC({0x57255467c228, 0x572557d9bbe0}, 0x1?, {0xc000bee29f?, 0xc001225480?}, {0xc001122080?, 0x5725546873e0?, 0xc00113c028?}, {0x0, 0x0, ...}, ...)
registry  |     zotregistry.dev/zot/pkg/api/authn.go:582 +0x23c
registry  | zotregistry.dev/zot/pkg/api.(*AuthnMiddleware).tryAuthnHandlers(0xc000fdce00, 0xc001027cc0)
registry  |     zotregistry.dev/zot/pkg/api/authn.go:322 +0x98c
registry  | zotregistry.dev/zot/pkg/api.AuthHandler(0xc001027cc0)
registry  |     zotregistry.dev/zot/pkg/api/authn.go:62 +0xf9
registry  | zotregistry.dev/zot/pkg/api.(*RouteHandler).SetupRoutes(0xc00009f810)
registry  |     zotregistry.dev/zot/pkg/api/routes.go:69 +0x2d
registry  | zotregistry.dev/zot/pkg/api.NewRouteHandler(...)
registry  |     zotregistry.dev/zot/pkg/api/routes.go:62
registry  | zotregistry.dev/zot/pkg/api.(*Controller).Run(0xc001027cc0)
registry  |     zotregistry.dev/zot/pkg/api/controller.go:165 +0x489
registry  | zotregistry.dev/zot/pkg/cli/server.NewServerRootCmd.newServeCmd.func2(0xc0001ecb00?, {0xc000714c90, 0x1, 0x572550764e8f?})
registry  |     zotregistry.dev/zot/pkg/cli/server/root.go:84 +0x108
registry  | github.com/spf13/cobra.(*Command).execute(0xc000bf4608, {0xc000714c60, 0x1, 0x1})
registry  |     github.com/spf13/cobra@v1.9.1/command.go:1015 +0xaaa
registry  | github.com/spf13/cobra.(*Command).ExecuteC(0xc000bf4308)
registry  |     github.com/spf13/cobra@v1.9.1/command.go:1148 +0x46f
registry  | github.com/spf13/cobra.(*Command).Execute(0xc000002380?)
registry  |     github.com/spf13/cobra@v1.9.1/command.go:1071 +0x13
registry  | main.main()
registry  |     zotregistry.dev/zot/cmd/zot/main.go:10 +0x18